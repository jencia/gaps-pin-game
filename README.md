这是我 2015 年 8 月 20 日第一次暑假实习做的一款小游戏。当时给我的需求是给我一个游戏链接，让我自己去玩，然后模仿它做一个出来。然后在此基础上改造成符合公司业务需求的游戏。当时也没人可以指导，自己一个人瞎捉摸，这项目就是我最终捉摸出来的结果，需求人员也挺满意的。

这是我第一份工作的第一个做得比较完整的游戏，值得纪念，因此挂载 GitHub 上。这游戏我去除了一些业务性的限制，现在可以无限玩。

游戏访问地址：[demo.jswalk.com/gaps-pin-game](http://demo.jswalk.com/gaps-pin-game)

以前有记录问题的习惯，以下是我之前开发过程中记录的一些问题

1. 场景切换

```
> 问题：屏幕太宽，切换到后面会卡
> 原因猜测：可能没有及时清除，绘制的矩形会累加，到后面由于绘制的矩形太多，而导致卡顿
> 解决方法：加快场景切换步数，减少矩形的绘制数量
```

```
> 问题：有些手机切换速度很慢，到后面会卡顿
> 原因：手机性能较差
> 解决方法：没招，直接去掉动画
```

2. 针头延迟

```
> 问题：底下的小球移动的时候有时候只是闪一下，没移动
> 原因：小球运动是处于双重动画当中，由于某种原因，第一重动画和第二重没有同时进行，导致一快一慢，视觉效果就是卡屏
> 解决方法：把小球运动放在第一重动画里
```

```
> 问题：小球还没移动到位，针头就插进去了
> 原因：小球运动与大球旋转是同时进行的
> 解决方法：点击屏幕后，线条延迟添加
```

3. 碰撞误判

```
> 问题：大圆反转的前后某个位置，会误判，导致没有碰撞
> 原因：6.5秒太久，导致num--会把度数减到负数，导致lastNum是个负数，跟正数相减是叠加
> 解决方法：当他减到0的时候给他加上360
```

4. 成绩误判

```
> 问题：有些手机会把最后一根无效球给算进去
> 原因：游戏结束时延迟16毫秒才停止动画
> 解决方法：加入一个布尔值，当游戏结束停止money的赋值
```

5. 样式不兼容

```
> 问题：button、input不同手机默认样式不一样
> 解决方法：用div替代按钮标签
```

6. 微信崩溃

```
> 问题：苹果手机用微信浏览，点击“再来一次”时微信崩溃
> 原因：未知
> 解决方法：
```
